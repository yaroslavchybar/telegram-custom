# Base image
FROM node:18

# Set the working directory in the container
WORKDIR /app

# Use Corepack to honor the repo's packageManager (pnpm)
RUN corepack enable

# Copy manifest and lockfile to avoid dependency drift
COPY ../package.json ../pnpm-lock.yaml ./

# Install dependencies exactly as locked
RUN pnpm install --frozen-lockfile
